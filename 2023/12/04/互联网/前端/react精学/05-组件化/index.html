<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 5.4.2">


<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" integrity="sha256-CTSx/A06dm1B063156EVh15m6Y67pAjZZaQc89LLSrU=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"example.com","root":"/","images":"/images","scheme":"Gemini","darkmode":false,"version":"8.18.2","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":false,"style":null},"fold":{"enable":false,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"}}</script><script src="/js/config.js"></script>

    <meta name="description" content="ç»„ä»¶åŒ–å¼€å‘ ç»„ä»¶åŒ–å¼€å‘çš„ä¼˜åŠ¿  åˆ©äºå›¢é˜Ÿåä½œå¼€å‘ åˆ©äºç»„ä»¶å¤ç”¨ åˆ©äºSPAå•é¡µé¢åº”ç”¨å¼€å‘ â€¦â€¦   ä¸»æµç»„ä»¶çš„å¯¹æ¯”Vueä¸­çš„ç»„ä»¶åŒ–å¼€å‘ï¼š http:&#x2F;&#x2F;fivedodo.com&#x2F;upload&#x2F;html&#x2F;vuejs3&#x2F;guide&#x2F;migration&#x2F;functional-components.html   å…¨å±€ç»„ä»¶å’Œå±€éƒ¨ç»„ä»¶ å‡½æ•°ç»„ä»¶ï¼ˆfunctionalï¼‰å’Œç±»ç»„ä»¶(Vue3ä¸å…·å¤‡functiona">
<meta property="og:type" content="article">
<meta property="og:title" content="05.ç»„ä»¶åŒ–">
<meta property="og:url" content="http://example.com/2023/12/04/%E4%BA%92%E8%81%94%E7%BD%91/%E5%89%8D%E7%AB%AF/react%E7%B2%BE%E5%AD%A6/05-%E7%BB%84%E4%BB%B6%E5%8C%96/index.html">
<meta property="og:site_name" content="ZONO&#39;s World">
<meta property="og:description" content="ç»„ä»¶åŒ–å¼€å‘ ç»„ä»¶åŒ–å¼€å‘çš„ä¼˜åŠ¿  åˆ©äºå›¢é˜Ÿåä½œå¼€å‘ åˆ©äºç»„ä»¶å¤ç”¨ åˆ©äºSPAå•é¡µé¢åº”ç”¨å¼€å‘ â€¦â€¦   ä¸»æµç»„ä»¶çš„å¯¹æ¯”Vueä¸­çš„ç»„ä»¶åŒ–å¼€å‘ï¼š http:&#x2F;&#x2F;fivedodo.com&#x2F;upload&#x2F;html&#x2F;vuejs3&#x2F;guide&#x2F;migration&#x2F;functional-components.html   å…¨å±€ç»„ä»¶å’Œå±€éƒ¨ç»„ä»¶ å‡½æ•°ç»„ä»¶ï¼ˆfunctionalï¼‰å’Œç±»ç»„ä»¶(Vue3ä¸å…·å¤‡functiona">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://example.com/2023/12/04/-img/%E6%8A%80%E6%9C%AF/%E5%89%8D%E7%AB%AF/%E6%A1%86%E6%9E%B6/%E7%BB%84%E4%BB%B6%E5%8C%96.png">
<meta property="article:published_time" content="2023-12-04T13:35:56.000Z">
<meta property="article:modified_time" content="2023-12-05T09:32:44.679Z">
<meta property="article:author" content="zono">
<meta property="article:tag" content="æŠ€èƒ½">
<meta property="article:tag" content="æŠ€æœ¯">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/2023/12/04/-img/%E6%8A%80%E6%9C%AF/%E5%89%8D%E7%AB%AF/%E6%A1%86%E6%9E%B6/%E7%BB%84%E4%BB%B6%E5%8C%96.png">


<link rel="canonical" href="http://example.com/2023/12/04/%E4%BA%92%E8%81%94%E7%BD%91/%E5%89%8D%E7%AB%AF/react%E7%B2%BE%E5%AD%A6/05-%E7%BB%84%E4%BB%B6%E5%8C%96/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"en","comments":true,"permalink":"http://example.com/2023/12/04/%E4%BA%92%E8%81%94%E7%BD%91/%E5%89%8D%E7%AB%AF/react%E7%B2%BE%E5%AD%A6/05-%E7%BB%84%E4%BB%B6%E5%8C%96/","path":"2023/12/04/äº’è”ç½‘/å‰ç«¯/reactç²¾å­¦/05-ç»„ä»¶åŒ–/","title":"05.ç»„ä»¶åŒ–"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>05.ç»„ä»¶åŒ– | ZONO's World</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">ZONO's World</p>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">welcome to my world</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="Search" role="button">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a></li><li class="menu-item menu-item-ç”Ÿæ´»"><a href="/%E7%94%9F%E6%B4%BB/" rel="section"><i class="fa fa-book fa-fw"></i>ç”Ÿæ´»</a></li><li class="menu-item menu-item-å…´è¶£"><a href="/%E5%85%B4%E8%B6%A3/" rel="section"><i class="fa fa-book fa-fw"></i>å…´è¶£</a></li><li class="menu-item menu-item-æŠ€æœ¯æ±‡æ€»"><a href="/../categories/%E6%8A%80%E6%9C%AF/" rel="section"><i class="fa fa-book fa-fw"></i>æŠ€æœ¯æ±‡æ€»</a></li><li class="menu-item menu-item-å‰ç«¯"><a href="/%E5%89%8D%E7%AB%AF/" rel="section"><i class="fa fa-book fa-fw"></i>å‰ç«¯</a></li><li class="menu-item menu-item-åç«¯"><a href="/%E5%90%8E%E7%AB%AF/" rel="section"><i class="fa fa-book fa-fw"></i>åç«¯</a></li><li class="menu-item menu-item-äº’è”ç½‘é€šç”¨"><a href="/%E9%80%9A%E7%94%A8%E7%9F%A5%E8%AF%86/" rel="section"><i class="fa fa-book fa-fw"></i>äº’è”ç½‘é€šç”¨</a></li><li class="menu-item menu-item-å…³äºæˆ‘"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>å…³äºæˆ‘</a></li>
  </ul>
</nav>




</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%BB%84%E4%BB%B6%E5%8C%96%E5%BC%80%E5%8F%91"><span class="nav-number">1.</span> <span class="nav-text">ç»„ä»¶åŒ–å¼€å‘</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%BB%E6%B5%81%E7%BB%84%E4%BB%B6%E7%9A%84%E5%AF%B9%E6%AF%94"><span class="nav-number">1.1.</span> <span class="nav-text">ä¸»æµç»„ä»¶çš„å¯¹æ¯”</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Vue%E4%B8%AD%E7%9A%84%E7%BB%84%E4%BB%B6%E5%8C%96%E5%BC%80%E5%8F%91%EF%BC%9A"><span class="nav-number">1.1.1.</span> <span class="nav-text">Vueä¸­çš„ç»„ä»¶åŒ–å¼€å‘ï¼š</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#React%E4%B8%AD%E7%9A%84%E7%BB%84%E4%BB%B6%E5%8C%96%E5%BC%80%E5%8F%91%EF%BC%9A"><span class="nav-number">1.1.2.</span> <span class="nav-text">Reactä¸­çš„ç»„ä»¶åŒ–å¼€å‘ï¼š</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#React%E5%87%BD%E6%95%B0%E7%BB%84%E4%BB%B6"><span class="nav-number">1.2.</span> <span class="nav-text">Reactå‡½æ•°ç»„ä»¶</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA"><span class="nav-number">1.2.1.</span> <span class="nav-text">åˆ›å»º</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%B0%83%E7%94%A8"><span class="nav-number">1.2.2.</span> <span class="nav-text">è°ƒç”¨</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%91%BD%E5%90%8D"><span class="nav-number">1.2.3.</span> <span class="nav-text">å‘½å</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B8%B2%E6%9F%93%E8%BF%87%E7%A8%8B"><span class="nav-number">1.2.4.</span> <span class="nav-text">æ¸²æŸ“è¿‡ç¨‹</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Props%E7%9A%84%E5%A4%84%E7%90%86"><span class="nav-number">1.3.</span> <span class="nav-text">Propsçš„å¤„ç†</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B1%9E%E6%80%A7%E7%9A%84%E4%BD%BF%E7%94%A8%E9%80%BB%E8%BE%91"><span class="nav-number">1.3.1.</span> <span class="nav-text">å±æ€§çš„ä½¿ç”¨é€»è¾‘</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AF%B9%E4%BA%8E%E4%BC%A0%E9%80%92%E8%BF%9B%E6%9D%A5%E7%9A%84%E5%B1%9E%E6%80%A7%E8%A7%84%E5%88%99%E6%A0%A1%E9%AA%8C"><span class="nav-number">1.3.2.</span> <span class="nav-text">å¯¹äºä¼ é€’è¿›æ¥çš„å±æ€§è§„åˆ™æ ¡éªŒ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9props%E7%9A%84%E8%A7%84%E5%88%99"><span class="nav-number">1.3.3.</span> <span class="nav-text">ä¿®æ”¹propsçš„è§„åˆ™</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%9E%E6%88%98%E2%80%94%E2%80%94%E6%8F%92%E6%A7%BD%E5%A4%84%E7%90%86"><span class="nav-number">1.4.</span> <span class="nav-text">å®æˆ˜â€”â€”æ’æ§½å¤„ç†</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A6%82%E5%BF%B5"><span class="nav-number">1.4.1.</span> <span class="nav-text">æ¦‚å¿µ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A4%9A%E4%B8%AA%E5%AD%90%E7%BB%84%E4%BB%B6%E6%94%BE%E5%85%A5%E7%88%B6%E7%BB%84%E4%BB%B6"><span class="nav-number">1.4.2.</span> <span class="nav-text">å¤šä¸ªå­ç»„ä»¶æ”¾å…¥çˆ¶ç»„ä»¶</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#React-Children-%E5%AF%B9%E8%B1%A1"><span class="nav-number">1.4.3.</span> <span class="nav-text">React.Children å¯¹è±¡</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%85%B7%E5%90%8D%E6%8F%92%E6%A7%BD"><span class="nav-number">1.4.4.</span> <span class="nav-text">å…·åæ’æ§½</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#React%E7%B1%BB%E7%BB%84%E4%BB%B6"><span class="nav-number">1.5.</span> <span class="nav-text">Reactç±»ç»„ä»¶</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#PureComponent-pj%CA%8A%C9%99-r"><span class="nav-number">1.5.0.1.</span> <span class="nav-text">PureComponent &#x2F;pjÊŠÉ™(r)&#x2F;</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%9D%9E%E5%8F%97%E6%8E%A7%E7%BB%84%E4%BB%B6"><span class="nav-number">1.5.0.2.</span> <span class="nav-text">éå—æ§ç»„ä»¶</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%85%B3%E4%BA%8EsetState%E7%9A%84%E8%BF%9B%E9%98%B6%E7%A0%94%E7%A9%B6"><span class="nav-number">1.5.0.3.</span> <span class="nav-text">å…³äºsetStateçš„è¿›é˜¶ç ”ç©¶</span></a></li></ol></li></ol></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="zono"
      src="/uploads/cat.jpg">
  <p class="site-author-name" itemprop="name">zono</p>
  <div class="site-description" itemprop="description">äººç”Ÿé•¿åº¦æ— æ³•å¼ºæ±‚,ä½†åšåº¦å¯ä»¥é åŠªåŠ›</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">104</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">34</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">8</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/zo-no" title="GitHub â†’ https:&#x2F;&#x2F;github.com&#x2F;zo-no" rel="noopener me" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="/2742160682@qq.com" title="E-Mail â†’ 2742160682@qq.com" rel="noopener me"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://u.wechat.com/MN4YZFpcB_z1o0o1c8Tsjkg" title="WeChat â†’ https:&#x2F;&#x2F;u.wechat.com&#x2F;MN4YZFpcB_z1o0o1c8Tsjkg" rel="noopener me" target="_blank"><i class="fab fa-weixin fa-fw"></i>WeChat</a>
      </span>
  </div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/12/04/%E4%BA%92%E8%81%94%E7%BD%91/%E5%89%8D%E7%AB%AF/react%E7%B2%BE%E5%AD%A6/05-%E7%BB%84%E4%BB%B6%E5%8C%96/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/cat.jpg">
      <meta itemprop="name" content="zono">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ZONO's World">
      <meta itemprop="description" content="äººç”Ÿé•¿åº¦æ— æ³•å¼ºæ±‚,ä½†åšåº¦å¯ä»¥é åŠªåŠ›">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="05.ç»„ä»¶åŒ– | ZONO's World">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          05.ç»„ä»¶åŒ–
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2023-12-04 21:35:56" itemprop="dateCreated datePublished" datetime="2023-12-04T21:35:56+08:00">2023-12-04</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-12-05 17:32:44" itemprop="dateModified" datetime="2023-12-05T17:32:44+08:00">2023-12-05</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index"><span itemprop="name">æŠ€æœ¯</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E6%8A%80%E6%9C%AF/%E6%A1%86%E6%9E%B6/" itemprop="url" rel="index"><span itemprop="name">æ¡†æ¶</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody"><h1 id="ç»„ä»¶åŒ–å¼€å‘"><a href="#ç»„ä»¶åŒ–å¼€å‘" class="headerlink" title="ç»„ä»¶åŒ–å¼€å‘"></a>ç»„ä»¶åŒ–å¼€å‘</h1><blockquote>
<p>ç»„ä»¶åŒ–å¼€å‘çš„ä¼˜åŠ¿</p>
<ul>
<li>åˆ©äºå›¢é˜Ÿåä½œå¼€å‘</li>
<li>åˆ©äºç»„ä»¶å¤ç”¨</li>
<li>åˆ©äºSPAå•é¡µé¢åº”ç”¨å¼€å‘</li>
<li>â€¦â€¦</li>
</ul>
</blockquote>
<h2 id="ä¸»æµç»„ä»¶çš„å¯¹æ¯”"><a href="#ä¸»æµç»„ä»¶çš„å¯¹æ¯”" class="headerlink" title="ä¸»æµç»„ä»¶çš„å¯¹æ¯”"></a>ä¸»æµç»„ä»¶çš„å¯¹æ¯”</h2><h3 id="Vueä¸­çš„ç»„ä»¶åŒ–å¼€å‘ï¼š"><a href="#Vueä¸­çš„ç»„ä»¶åŒ–å¼€å‘ï¼š" class="headerlink" title="Vueä¸­çš„ç»„ä»¶åŒ–å¼€å‘ï¼š"></a><strong>Vueä¸­çš„ç»„ä»¶åŒ–å¼€å‘ï¼š</strong></h3><blockquote>
<p><a target="_blank" rel="noopener" href="http://fivedodo.com/upload/html/vuejs3/guide/migration/functional-components.html">http://fivedodo.com/upload/html/vuejs3/guide/migration/functional-components.html</a></p>
</blockquote>
<ol>
<li>å…¨å±€ç»„ä»¶å’Œå±€éƒ¨ç»„ä»¶</li>
<li>å‡½æ•°ç»„ä»¶ï¼ˆfunctionalï¼‰å’Œç±»ç»„ä»¶(Vue3ä¸å…·å¤‡functionalå‡½æ•°ç»„ä»¶ã€)</li>
</ol>
<h3 id="Reactä¸­çš„ç»„ä»¶åŒ–å¼€å‘ï¼š"><a href="#Reactä¸­çš„ç»„ä»¶åŒ–å¼€å‘ï¼š" class="headerlink" title="Reactä¸­çš„ç»„ä»¶åŒ–å¼€å‘ï¼š"></a><strong>Reactä¸­çš„ç»„ä»¶åŒ–å¼€å‘ï¼š</strong></h3><p>æ²¡æœ‰æ˜ç¡®å…¨å±€å’Œå±€éƒ¨çš„æ¦‚å¿µï¼ˆå¯ä»¥ç†è§£ä¸ºéƒ½æ˜¯å±€éƒ¨ç»„ä»¶ï¼Œä¸è¿‡å¯ä»¥æŠŠç»„ä»¶æ³¨å†Œåˆ°Reactä¸Šï¼Œè¿™æ ·æ¯ä¸ªç»„ä»¶ä¸­åªè¦å¯¼å…¥Reactå³å¯ä½¿ç”¨ï¼‰</p>
<ol>
<li>å‡½æ•°ç»„ä»¶</li>
<li>ç±»ç»„ä»¶</li>
<li>Hooksç»„ä»¶ï¼šåœ¨å‡½æ•°ç»„ä»¶ä¸­ä½¿ç”¨React Hookså‡½æ•°</li>
</ol>
<h2 id="Reactå‡½æ•°ç»„ä»¶"><a href="#Reactå‡½æ•°ç»„ä»¶" class="headerlink" title="Reactå‡½æ•°ç»„ä»¶"></a>Reactå‡½æ•°ç»„ä»¶</h2><h3 id="åˆ›å»º"><a href="#åˆ›å»º" class="headerlink" title="åˆ›å»º"></a>åˆ›å»º</h3><p>ä¸¤ä¸ªæƒ…å†µéƒ½æ˜¯åˆ›å»ºäº†ä¸€ä¸ªå‡½æ•°ç»„ä»¶ï¼š</p>
<ol>
<li><p>åœ¨SRCç›®å½•ä¸­ï¼Œåˆ›å»ºä¸€ä¸ª xxx.jsx çš„æ–‡ä»¶ï¼Œå°±åˆ›å»ºä¸€ä¸ªç»„ä»¶äº†ï¼›</p>
</li>
<li><p>æˆ‘ä»¬åœ¨æ­¤æ–‡ä»¶ä¸­ï¼Œåˆ›å»ºä¸€ä¸ªå‡½æ•°ï¼Œè®©å‡½æ•°è¿”å›JSXè§†å›¾ï¼ˆæˆ–è€…JSXå…ƒç´ ã€virtualDOMè™šæ‹ŸDOMå¯¹è±¡ï¼‰</p>
</li>
</ol>
<h3 id="è°ƒç”¨"><a href="#è°ƒç”¨" class="headerlink" title="è°ƒç”¨"></a>è°ƒç”¨</h3><p>åœ¨æ–‡ä»¶ä¸­ï¼Œå¯ä»¥åŸºäºES6Moduleè§„èŒƒå¯¼å…¥åˆ›å»ºçš„ç»„ä»¶(å¯¼å…¥æ—¶å¯ä»¥å¿½ç•¥.jsxåç¼€å)ï¼Œç„¶ååƒå†™æ ‡ç­¾ä¸€æ ·è°ƒç”¨ã€‚</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ä¸¤ç§è°ƒç”¨æ–¹å¼</span></span><br><span class="line">&lt;<span class="title class_">Component</span>/&gt; <span class="comment">//å•é—­åˆè°ƒç”¨</span></span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">Component</span>&gt;</span> ... <span class="tag">&lt;/<span class="name">Component</span>&gt;</span></span> <span class="comment">//åŒé—­åˆè°ƒç”¨</span></span><br><span class="line"><span class="comment">//åŒé—­åˆè°ƒç”¨å†…å¯ä»¥æ”¾å­èŠ‚ç‚¹ï¼Œåœ¨ä¼ é€’å‡½æ•°çš„propsæ—¶ï¼Œä¼šæœ‰ä¸€ä¸ªchildrenå±æ€§æ¥å­˜å‚¨è¿™äº›å­èŠ‚ç‚¹ã€‚</span></span><br></pre></td></tr></table></figure>

<p>ä¼ é€’å±æ€§çš„è§„åˆ™ï¼š</p>
<ul>
<li><p>è°ƒç”¨ç»„ä»¶æ—¶ï¼Œå¯ä»¥ç»™è¢«è°ƒç”¨çš„ç»„ä»¶è®¾ç½®(ä¼ é€’)å„ç§å„æ ·çš„å±æ€§ï¼Œä¾‹å¦‚ï¼š</p>
<p><code>    &lt;DemoOne title=&quot;æˆ‘æ˜¯æ ‡é¢˜&quot; x=&#123;10&#125; data=&#123;[100, 200]&#125; className=&quot;box&quot; style=&#123;&#123; fontSize: '20px' &#125;&#125; /&gt;</code></p>
</li>
<li><p>è‹¥è®¾ç½®çš„å±æ€§å€¼ä¸æ˜¯å­—ç¬¦ä¸²æ ¼å¼ï¼Œåˆ™éœ€è¦åŸºäº<code>&#123;&#125;è¯­æ³•</code>è¿›è¡ŒåµŒå¥—ã€‚</p>
</li>
</ul>
<h3 id="å‘½å"><a href="#å‘½å" class="headerlink" title="å‘½å"></a>å‘½å</h3><blockquote>
<p>ç»„ä»¶åï¼Œä¸€èˆ¬éƒ½é‡‡ç”¨<code>PascalCase</code>ï¼ˆå¤§é©¼å³°å‘½åæ³•ï¼‰</p>
</blockquote>
<h3 id="æ¸²æŸ“è¿‡ç¨‹"><a href="#æ¸²æŸ“è¿‡ç¨‹" class="headerlink" title="æ¸²æŸ“è¿‡ç¨‹"></a>æ¸²æŸ“è¿‡ç¨‹</h3><blockquote>
<p>ç”±ä¸Šä¸¤ç« å¯çŸ¥</p>
</blockquote>
<ol>
<li>åŸºäº<code>babel-preset-react-app</code>æŠŠè°ƒç”¨çš„ç»„ä»¶è½¬æ¢ä¸º<code>createElement</code>æ ¼å¼</li>
</ol>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">React</span>.<span class="title function_">createElement</span>(<span class="title class_">DemoOne</span>, &#123;</span><br><span class="line">  <span class="attr">title</span>: <span class="string">&quot;zono&quot;</span>,</span><br><span class="line">  <span class="attr">x</span>: <span class="number">10</span>,</span><br><span class="line">  <span class="attr">data</span>: [<span class="number">100</span>, <span class="number">200</span>],</span><br><span class="line">  <span class="attr">className</span>: <span class="string">&quot;box&quot;</span>,</span><br><span class="line">  <span class="attr">style</span>: &#123;</span><br><span class="line">    <span class="attr">fontSize</span>: <span class="string">&quot;20px&quot;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>æ‰§è¡Œ<code>createElement</code>æ–¹æ³•åˆ›å»ºä¸€ä¸ª<code>virtualDOM</code>å¯¹è±¡</li>
</ol>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    $$typeof<span class="punctuation">:</span> Symbol(react.element)<span class="punctuation">,</span></span><br><span class="line">    key<span class="punctuation">:</span> <span class="literal"><span class="keyword">null</span></span><span class="punctuation">,</span></span><br><span class="line">    props<span class="punctuation">:</span> <span class="punctuation">&#123;</span>title<span class="punctuation">:</span> &#x27;æˆ‘æ˜¯æ ‡é¢˜&#x27;<span class="punctuation">,</span> x<span class="punctuation">:</span> <span class="number">10</span><span class="punctuation">,</span> data<span class="punctuation">:</span> æ•°ç»„<span class="punctuation">,</span> className<span class="punctuation">:</span> &#x27;box&#x27;<span class="punctuation">,</span> style<span class="punctuation">:</span> <span class="punctuation">&#123;</span>fontSize<span class="punctuation">:</span> &#x27;<span class="number">20</span>px&#x27;<span class="punctuation">&#125;</span><span class="punctuation">&#125;</span><span class="punctuation">,</span> <span class="comment">//å¦‚æœæœ‰å­èŠ‚ç‚¹ã€ŒåŒé—­åˆè°ƒç”¨ã€ï¼Œåˆ™ä¹ŸåŒ…å«childrenï¼ï¼</span></span><br><span class="line">    ref<span class="punctuation">:</span> <span class="literal"><span class="keyword">null</span></span><span class="punctuation">,</span></span><br><span class="line">    type<span class="punctuation">:</span> DemoOne</span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<ol start="3">
<li>åŸºäº<code>root.render</code>æŠŠ<code>virtualDOM</code>å˜ä¸º<code>çœŸå®çš„DOM</code></li>
</ol>
<p>typeå€¼ä¸å†æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè€Œæ˜¯ä¸€ä¸ªå‡½æ•°äº†ï¼Œæ­¤æ—¶ï¼š</p>
<ul>
<li>å‡½æ•°æ‰§è¡Œâ†’<code>DemoOne()</code></li>
<li> æŠŠ<code>virtualDOM</code>ä¸­çš„<code>props</code>ï¼Œä½œä¸ºå®å‚ä¼ é€’ç»™å‡½æ•° <code>DemoOne()</code>â†’<code>DemoOne(props)</code></li>
<li>æ¥æ”¶å‡½æ•°æ‰§è¡Œçš„è¿”å›ç»“æœ(ä¹Ÿå°±æ˜¯å½“å‰ç»„ä»¶çš„virtualDOMå¯¹è±¡)</li>
<li>æœ€åç”±renderå‡½æ•°æŠŠç»„ä»¶è¿”å›çš„è™šæ‹ŸDOMå˜ä¸ºçœŸå®DOMï¼Œæ’å…¥åˆ°id=rootçš„å®¹å™¨ä¸­ï¼ï¼</li>
</ul>
<hr>
<h2 id="Propsçš„å¤„ç†"><a href="#Propsçš„å¤„ç†" class="headerlink" title="Propsçš„å¤„ç†"></a>Propsçš„å¤„ç†</h2><ul>
<li>è°ƒç”¨ç»„ä»¶ï¼Œä¼ é€’è¿›æ¥çš„å±æ€§ï¼ˆPropsï¼‰æ˜¯â€œåªè¯»â€çš„ï¼ŒåŸç†æ˜¯ï¼špropså¯¹è±¡è¢«å†»ç»“äº†<code>Object.freeze()</code>ï¼ˆè§ä¸‹æ–‡è§£é‡Šï¼‰</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æµ‹è¯•</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">isFrozen</span>(props) <span class="comment">//output:true</span></span><br><span class="line">$ è·å–ï¼šprops.<span class="property">xxx</span></span><br><span class="line">$ ä¿®æ”¹ï¼šprops.<span class="property">xxx</span>=xxx  <span class="comment">//output:=&gt;æŠ¥é”™</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>å›é¡¾jsçŸ¥è¯†ç‚¹ï¼šå…³äºå¯¹è±¡çš„è§„åˆ™è®¾ç½®ï¼ˆäº†è§£å¯è·³è¿‡ï¼‰</p>
<blockquote>
<p> é˜®è€å¸ˆå•æ¨äººğŸ˜˜</p>
<p><a target="_blank" rel="noopener" href="https://www.bookstack.cn/read/javascript-tutorial/docs-stdlib-attributes.md">æ ‡å‡†åº“ - å±æ€§æè¿°å¯¹è±¡ - ã€Šé˜®ä¸€å³° JavaScript æ•™ç¨‹ã€‹ - ä¹¦æ ˆç½‘ Â· BookStack</a></p>
<p><strong>æ§åˆ¶å¯¹è±¡çŠ¶æ€</strong>çš„ä¸€èŠ‚ï¼Œè®²è¿°äº†ä»¥ä¸‹å†…å®¹ï¼š</p>
</blockquote>
<ul>
<li><p><strong>æ‰©å±•</strong>ï¼ˆå¼±ï¼‰:</p>
<p><code>Object.*preventExtensions*()</code>:ä½¿å¾—ä¸€ä¸ªå¯¹è±¡æ— æ³•å†æ·»åŠ æ–°çš„å±æ€§<br><code>Object.isExtensible(obj)</code>:æ£€æµ‹æ˜¯å¦å¯æ‰©å±•(è¿”å›boolå€¼ï¼Œä¸‹é¢éƒ½æ˜¯)</p>
</li>
<li><p><strong>å¯†å°</strong>ï¼ˆè¾ƒå¼ºï¼‰<br><code>Object.seal(obj)</code>ï¼šå¯†å°å¯¹è±¡ï¼Œä½¿å¾—ä¸€ä¸ªå¯¹è±¡æ—¢æ— æ³•æ·»åŠ æ–°å±æ€§ï¼Œä¹Ÿæ— æ³•åˆ é™¤æ—§å±æ€§ã€‚<br><code>Object.isSealed(obj)</code>ï¼šæ£€æµ‹æ˜¯å¦è¢«å¯†å°</p>
<ul>
<li><em>è¢«å¯†å°çš„å¯¹è±¡</em>ï¼šå¯ä»¥ä¿®æ”¹æˆå‘˜çš„å€¼ï¼Œä½†ä¹Ÿä¸èƒ½åˆ ã€ä¸èƒ½æ–°å¢ã€ä¸èƒ½åŠ«æŒ<code>Object.defineProperty</code></li>
</ul>
</li>
<li><p><strong>å†»ç»“</strong>ï¼ˆå¼ºï¼‰<br><code>Object.freeze(obj)</code>:å†»ç»“å¯¹è±¡ï¼Œå¯¹è±¡å®é™…ä¸Šå˜æˆäº†å¸¸é‡ã€‚<br><code>Object.isFrozen(obj) </code>æ£€æµ‹æ˜¯å¦è¢«å†»ç»“</p>
<ul>
<li><em>è¢«å†»ç»“çš„å¯¹è±¡</em>ï¼šä¸èƒ½ä¿®æ”¹æˆå‘˜å€¼ã€ä¸èƒ½æ–°å¢æˆå‘˜ã€ä¸èƒ½åˆ é™¤ç°æœ‰æˆå‘˜ã€ä¸èƒ½ç»™æˆå‘˜åšåŠ«æŒ<code>Object.defineProperty</code></li>
</ul>
</li>
<li><p>å±€é™æ€§ï¼šå¯ä»¥é€šè¿‡æ”¹å˜åŸå‹å¯¹è±¡ï¼Œæ¥ä¸ºå¯¹è±¡å¢åŠ å±æ€§ã€‚ï¼ˆè¯¦è§é˜®ä¸€å³°æ•™ç¨‹ï¼‰</p>
</li>
</ul>
<ul>
<li><p>åŠ«æŒï¼š(ä¹Ÿåœ¨â€å±æ€§æè¿°å¯¹è±¡â€™â€™åŒä¸€ç« ä¸­)</p>
<p><code>Object.defineProperty()</code>æ–¹æ³•å…è®¸é€šè¿‡å±æ€§æè¿°å¯¹è±¡ï¼Œå®šä¹‰æˆ–ä¿®æ”¹ä¸€ä¸ªå±æ€§ï¼Œç„¶åè¿”å›ä¿®æ”¹åçš„å¯¹è±¡()</p>
</li>
</ul>
<p>ğŸ‘tipsï¼š</p>
<ul>
<li>è¢«è®¾ç½®ä¸å¯æ‰©å±•çš„å¯¹è±¡ï¼šé™¤äº†ä¸èƒ½æ–°å¢æˆå‘˜ã€å…¶ä½™çš„æ“ä½œéƒ½å¯ä»¥å¤„ç†ï¼ï¼</li>
<li>è¢«å¯†å°çš„å¯¹è±¡ï¼Œä¹Ÿæ˜¯ä¸å¯æ‰©å±•çš„ï¼ï¼</li>
<li>åŒç†ï¼Œè¢«å†»ç»“çš„å¯¹è±¡ï¼Œå³æ˜¯ä¸å¯æ‰©å±•çš„ï¼Œä¹Ÿæ˜¯å¯†å°çš„ï¼ï¼</li>
<li>é€šè¿‡ä¸‰ä¸ªæ–¹æ³•çš„äº’ç›¸è°ƒç”¨å¯ä»¥éƒ¨åˆ†è§£å°ï¼Œä½†å¦‚æœè¦åŠ å…¥æ–°çš„å±æ€§é‚£å°±åªèƒ½åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡äº†</li>
</ul>
<p>ğŸ’¬Psï¼š</p>
<ul>
<li>è¶Šåº•å±‚è¶Šè¦çœ‹jsåŸºç¡€ï¼Œçœ‹æ¥å…«è‚¡å¹¶ä¸æ˜¯æ²¡ç”¨ã€‚</li>
<li>æ˜¯ä¸æ˜¯è¿™éƒ¨åˆ†æˆ‘åº”è¯¥å•ç‹¬å¼€ä¸€ç« ğŸ¤¦â€â™‚ï¸ğŸ¤¦â€â™€ï¸</li>
</ul>
</blockquote>
<p>ç„¶åè®©æˆ‘ä»¬ä¸¾ä¸€ä¸ªä¼ Propsçš„ä¾‹å­ï¼š</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// src\index.jsx</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">React</span> <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">ReactDOM</span> <span class="keyword">from</span> <span class="string">&#x27;react-dom/client&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">DemoOne</span> <span class="keyword">from</span> <span class="string">&#x27;@/views/DemoOne&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> root = <span class="title class_">ReactDOM</span>.<span class="title function_">createRoot</span>(<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;root&#x27;</span>));</span><br><span class="line">root.<span class="title function_">render</span>(</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">DemoOne</span> <span class="attr">title</span>=<span class="string">&quot;å¯ä»¥çœ‹è§æˆåŠŸä¼ å…¥äº†å€¼&quot;</span> <span class="attr">x</span>=<span class="string">&#123;10&#125;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">span</span>&gt;</span>å“ˆå“ˆå“ˆ<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">span</span>&gt;</span>å‘µå‘µå‘µ<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">DemoOne</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">DemoOne</span> <span class="attr">title</span>=<span class="string">&quot;å°è¯•ä¼ å…¥ä¸åŒçš„å€¼ï¼Œå®ç°äº†ç»„ä»¶çš„å¤ç”¨ï¼Œæ³¨æ„è¦ç”¨&lt;&gt;&lt;/&gt;åŒ…èµ·æ¥&quot;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/&gt;</span></span></span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// src\views\DemoOne.jsx</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">PropTypes</span> <span class="keyword">from</span> <span class="string">&#x27;prop-types&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">DemoOne</span> = <span class="keyword">function</span> <span class="title function_">DemoOne</span>(<span class="params">props</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> &#123; title &#125; = props;<span class="comment">//ä»çˆ¶ç»„ä»¶å–å€¼</span></span><br><span class="line">    <span class="keyword">let</span> x = props.<span class="property">x</span>;</span><br><span class="line">    x = <span class="number">1000</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&quot;demo-box&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">h2</span> <span class="attr">className</span>=<span class="string">&quot;title&quot;</span>&gt;</span>&#123;title&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;x&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">/* é€šè¿‡æŠŠå‡½æ•°å½“åšå¯¹è±¡ï¼Œè®¾ç½®é™æ€çš„ç§æœ‰å±æ€§æ–¹æ³•ï¼Œæ¥ç»™å…¶è®¾ç½®å±æ€§çš„æ ¡éªŒè§„åˆ™ */</span></span><br><span class="line"><span class="title class_">DemoOne</span>.<span class="property">defaultProps</span> = &#123;</span><br><span class="line">    <span class="attr">x</span>: <span class="number">0</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="title class_">DemoOne</span>.<span class="property">propTypes</span> = &#123;</span><br><span class="line">    <span class="comment">//ç»„ä»¶å±æ€§ï¼šæ ¡éªŒæ ¼å¼</span></span><br><span class="line">    <span class="attr">title</span>: <span class="title class_">PropTypes</span>.<span class="property">string</span>.<span class="property">isRequired</span>,<span class="comment">// ç±»å‹æ˜¯å­—ç¬¦ä¸²ã€å¿…ä¼ </span></span><br><span class="line">    <span class="attr">x</span>: <span class="title class_">PropTypes</span>.<span class="property">number</span>,<span class="comment">// ç±»å‹æ˜¯æ•°å­—</span></span><br><span class="line">    <span class="attr">y</span>: <span class="title class_">PropTypes</span>.<span class="title function_">oneOfType</span>([</span><br><span class="line">        <span class="title class_">PropTypes</span>.<span class="property">number</span>,</span><br><span class="line">        <span class="title class_">PropTypes</span>.<span class="property">bool</span>,</span><br><span class="line">    ])<span class="comment">// å¤šç§æ ¡éªŒè§„åˆ™ä¸­çš„ä¸€ä¸ª</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">DemoOne</span>;</span><br></pre></td></tr></table></figure>

<h3 id="å±æ€§çš„ä½¿ç”¨é€»è¾‘"><a href="#å±æ€§çš„ä½¿ç”¨é€»è¾‘" class="headerlink" title="å±æ€§çš„ä½¿ç”¨é€»è¾‘"></a>å±æ€§çš„ä½¿ç”¨é€»è¾‘</h3><ul>
<li>çˆ¶ç»„ä»¶<code>index.jsx</code>è°ƒç”¨å­ç»„ä»¶<code>DemoOne.jsx</code>çš„æ—¶å€™ï¼Œå¯ä»¥åŸºäºå±æ€§ï¼ŒæŠŠ<strong>ä¸åŒçš„ä¿¡æ¯</strong>ä¼ é€’ç»™å­ç»„ä»¶ï¼›</li>
<li>å­ç»„ä»¶æ¥æ”¶ç›¸åº”çš„å±æ€§å€¼ï¼Œå‘ˆç°å‡ºä¸åŒçš„æ•ˆæœï¼Œè®©ç»„ä»¶çš„å¤ç”¨æ€§æ›´å¼ºï¼ï¼</li>
</ul>
<h3 id="å¯¹äºä¼ é€’è¿›æ¥çš„å±æ€§è§„åˆ™æ ¡éªŒ"><a href="#å¯¹äºä¼ é€’è¿›æ¥çš„å±æ€§è§„åˆ™æ ¡éªŒ" class="headerlink" title="å¯¹äºä¼ é€’è¿›æ¥çš„å±æ€§è§„åˆ™æ ¡éªŒ"></a>å¯¹äºä¼ é€’è¿›æ¥çš„å±æ€§è§„åˆ™æ ¡éªŒ</h3><ul>
<li>åŸç†ï¼šé€šè¿‡æŠŠå‡½æ•°å½“åšå¯¹è±¡ï¼Œè®¾ç½®é™æ€çš„ç§æœ‰å±æ€§æ–¹æ³•ï¼Œæ¥ç»™å…¶è®¾ç½®å±æ€§çš„æ ¡éªŒè§„åˆ™</li>
<li>å¯ä»¥è®¾ç½®é»˜è®¤å€¼ï¼ˆè§ä¸Šé¢ä»£ç ï¼‰ï¼š</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* å‡½æ•°ç»„ä»¶.defaultProps = &#123;</span></span><br><span class="line"><span class="comment">  x: 0,</span></span><br><span class="line"><span class="comment">  ......</span></span><br><span class="line"><span class="comment">&#125;;*/</span></span><br><span class="line"><span class="title class_">DemoOne</span>.<span class="property">defaultProps</span> = &#123;</span><br><span class="line">    <span class="attr">x</span>: <span class="number">0</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>è®¾ç½®å…¶å®ƒè§„åˆ™ï¼Œä¾‹å¦‚ï¼šæ•°æ®å€¼æ ¼å¼ã€æ˜¯å¦å¿…ä¼ â€¦ ï¼ˆä¾èµ–äºå®˜æ–¹çš„ä¸€ä¸ªæ’ä»¶ï¼š<code>prop-types</code>ï¼‰</p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://juejin.cn/post/7218392277919662136">React æ ¡éªŒåº“ prop-types å®‰è£…ä¸è¯¦ç»†ä½¿ç”¨ - æ˜é‡‘ (juejin.cn)</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://github.com/facebook/prop-types">https://github.com/facebook/prop-types</a></p>
<p>è¿™é‡Œå°±æ˜¯ç”¨è¿™ä¸ªæ’ä»¶æ¥è¿›è¡Œç±»å‹æ£€éªŒï¼Œè®©åŸæœ¬åŠ¨æ€çš„jsèƒ½åƒc++ã€javaè¿™æ ·çš„é™æ€è¯­è¨€å¯ä»¥ä¸ç”¨æ‹…å¿ƒç±»å‹è½¬æ¢å‡ºç°çš„é—®é¢˜ã€‚</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">PropTypes</span> <span class="keyword">from</span> <span class="string">&#x27;prop-types&#x27;</span>;</span><br><span class="line">å‡½æ•°ç»„ä»¶.<span class="property">propTypes</span> = &#123;</span><br><span class="line">  <span class="attr">title</span>: <span class="title class_">PropTypes</span>.<span class="property">string</span>.<span class="property">isRequired</span>,<span class="comment">// ç±»å‹æ˜¯å­—ç¬¦ä¸²ã€å¿…ä¼ </span></span><br><span class="line">  <span class="attr">x</span>: <span class="title class_">PropTypes</span>.<span class="property">number</span>,<span class="comment">// ç±»å‹æ˜¯æ•°å­—</span></span><br><span class="line">  <span class="attr">y</span>: <span class="title class_">PropTypes</span>.<span class="title function_">oneOfType</span>([</span><br><span class="line">      <span class="title class_">PropTypes</span>.<span class="property">number</span>,</span><br><span class="line">      <span class="title class_">PropTypes</span>.<span class="property">bool</span>,</span><br><span class="line">  ])<span class="comment">// å¤šç§æ ¡éªŒè§„åˆ™ä¸­çš„ä¸€ä¸ª</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>ä¼ é€’è¿›æ¥çš„å±æ€§ï¼Œé¦–å…ˆä¼šç»å†è§„åˆ™çš„æ ¡éªŒï¼Œä¸ç®¡æ ¡éªŒæˆåŠŸè¿˜æ˜¯å¤±è´¥ï¼Œæœ€åéƒ½ä¼šæŠŠå±æ€§ç»™å½¢å‚propsï¼Œåªä¸è¿‡å¦‚æœä¸ç¬¦åˆè®¾å®šçš„è§„åˆ™ï¼Œæ§åˆ¶å°ä¼šæŠ›å‡ºè­¦å‘Šé”™è¯¯{ä¸å½±å“å±æ€§å€¼çš„è·å–}ï¼ï¼</p>
<blockquote>
<p>ğŸ¤”Tips:</p>
<ul>
<li><p>ä½¿ç”¨ TypeScriptï¼ˆTSï¼‰çš„è¯ï¼Œé€šå¸¸ä¸éœ€è¦ä½¿ç”¨ prop-types åº“ã€‚</p>
</li>
<li><p>ä¹‹å‰å†™pythonä¹Ÿæœ‰ç±»ä¼¼çš„åº“ï¼Œçœ‹æ ·å­åŠ¨æ€è¯­è¨€éƒ½å¾—è¢«é™æ€æŸç¼šã€‚</p>
</li>
</ul>
<p>ï¼ˆé‚£pythonæ˜¯ä¸æ˜¯å¼ºç±»å‹å‘¢ğŸ˜…ï¼Œä¸å‰ç«¯æ— å…³ï¼Œå¯ä»¥å¿½ç•¥ï¼‰</p>
</blockquote>
</li>
</ul>
<h3 id="ä¿®æ”¹propsçš„è§„åˆ™"><a href="#ä¿®æ”¹propsçš„è§„åˆ™" class="headerlink" title="ä¿®æ”¹propsçš„è§„åˆ™"></a>ä¿®æ”¹propsçš„è§„åˆ™</h3><ul>
<li>æŠŠpropsä¸­çš„æŸä¸ªå±æ€§èµ‹å€¼ç»™å…¶ä»–å†…å®¹ï¼ˆä¾‹å¦‚ï¼šå˜é‡ã€çŠ¶æ€â€¦ï¼‰</li>
<li>æˆ‘ä»¬ä¸ç›´æ¥æ“ä½œprops.xxx=xxxï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥ä¿®æ”¹å˜é‡/çŠ¶æ€å€¼ï¼ï¼</li>
</ul>
<hr>
<h2 id="å®æˆ˜â€”â€”æ’æ§½å¤„ç†"><a href="#å®æˆ˜â€”â€”æ’æ§½å¤„ç†" class="headerlink" title="å®æˆ˜â€”â€”æ’æ§½å¤„ç†"></a>å®æˆ˜â€”â€”æ’æ§½å¤„ç†</h2><h3 id="æ¦‚å¿µ"><a href="#æ¦‚å¿µ" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h3><p>è§ä¸‹å›¾</p>
<p>![cf04ea2fa3fed761901517454264443](E:\appdata\wechat\msg\WeChat Files\wxid_o6y6wc9we49o22\FileStorage\Temp\cf04ea2fa3fed761901517454264443.jpg)</p>
<p>ç›®çš„ï¼šå¤ç”¨æ€§</p>
<p>æˆ‘ä»¬å·²ç»çŸ¥é“äº†å¦‚ä½•æŠŠå­ç»„ä»¶æ”¾å…¥çˆ¶ç»„ä»¶ï¼Œä½†å¦‚æœæœ‰<strong>å¤šä¸ªå­ç»„ä»¶</strong>è¦ä¼ å…¥çˆ¶ç»„ä»¶åˆè¯¥å¦‚ä½•å®Œæˆå‘¢ï¼Ÿ</p>
<blockquote>
<p>å› ä¸ºå­ç»„ä»¶ä¼ å…¥çˆ¶ç»„ä»¶æ˜¯å¯¹è±¡ï¼Œäºæ˜¯æˆ‘ä»¬å¯ä»¥æŠŠå®ƒè½¬æ¢ä¸ºæ•°ç»„å½¢å¼ï¼Œä»¥æ­¤è¾¾åˆ°ç›®çš„</p>
</blockquote>
<h3 id="å¤šä¸ªå­ç»„ä»¶æ”¾å…¥çˆ¶ç»„ä»¶"><a href="#å¤šä¸ªå­ç»„ä»¶æ”¾å…¥çˆ¶ç»„ä»¶" class="headerlink" title="å¤šä¸ªå­ç»„ä»¶æ”¾å…¥çˆ¶ç»„ä»¶"></a>å¤šä¸ªå­ç»„ä»¶æ”¾å…¥çˆ¶ç»„ä»¶</h3><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// src\views\DemoOne.js</span></span><br><span class="line"><span class="comment">//çˆ¶ç»„ä»¶çš„å†™æ³•</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">PropTypes</span> <span class="keyword">from</span> <span class="string">&quot;prop-types&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">DemoOne</span> = <span class="keyword">function</span> <span class="title function_">DemoOne</span>(<span class="params">props</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> &#123; title, x, children &#125; = props;<span class="comment">//å–å‡ºå±æ€§</span></span><br><span class="line">  <span class="comment">//æ£€æµ‹childrenæ˜¯å¦å­˜åœ¨ï¼Œè‹¥ä¸å­˜åœ¨åˆ™èµ‹å€¼ä¸ºç©ºæ•°ç»„ï¼Œè‹¥å­˜åœ¨åˆ™æ£€æµ‹æ˜¯å¦ä¸ºæ•°ç»„ï¼Œè‹¥ä¸æ˜¯åˆ™è½¬æ¢ä¸ºæ•°ç»„</span></span><br><span class="line">  <span class="keyword">if</span> (!children) &#123;</span><br><span class="line">    children = [];</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (!<span class="title class_">Array</span>.<span class="title function_">isArray</span>(children)) &#123;</span><br><span class="line">    children = [children];</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&quot;demo-box&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      &#123;children[0]&#125;</span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">br</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">h2</span> <span class="attr">className</span>=<span class="string">&quot;title&quot;</span>&gt;</span>&#123;title&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;x&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">br</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">      &#123;children[1]&#125;</span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* è®¾ç½®å±æ€§çš„æ ¡éªŒè§„åˆ™ */</span></span><br><span class="line"><span class="title class_">DemoOne</span>.<span class="property">defaultProps</span> = &#123;</span><br><span class="line">  <span class="attr">x</span>: <span class="number">0</span>,</span><br><span class="line">&#125;;</span><br><span class="line"><span class="title class_">DemoOne</span>.<span class="property">propTypes</span> = &#123;</span><br><span class="line">  <span class="attr">title</span>: <span class="title class_">PropTypes</span>.<span class="property">string</span>.<span class="property">isRequired</span>,</span><br><span class="line">  <span class="attr">x</span>: <span class="title class_">PropTypes</span>.<span class="property">number</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">DemoOne</span>;</span><br></pre></td></tr></table></figure>

<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è°ƒç”¨src\index.jsx</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">React</span> <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">ReactDOM</span> <span class="keyword">from</span> <span class="string">&#x27;react-dom/client&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">DemoOne</span> <span class="keyword">from</span> <span class="string">&#x27;@/views/DemoOne&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> root = <span class="title class_">ReactDOM</span>.<span class="title function_">createRoot</span>(<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;root&#x27;</span>));</span><br><span class="line">root.<span class="title function_">render</span>(</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">DemoOne</span> <span class="attr">title</span>=<span class="string">&quot;REACTå¥½å¥½ç©å“¦&quot;</span> <span class="attr">x</span>=<span class="string">&#123;10&#125;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">span</span>&gt;</span>å“ˆå“ˆå“ˆå“ˆ<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">span</span>&gt;</span>ä½ å¥½<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">DemoOne</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">         <span class="tag">&lt;<span class="name">DemoOne</span> <span class="attr">title</span>=<span class="string">&quot;å“‡å¡å¡å¡&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">span</span>&gt;</span>å˜¿å˜¿å˜¿<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">DemoOne</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">DemoOne</span> <span class="attr">title</span>=<span class="string">&quot;å“ˆå“ˆå“ˆå“ˆå“ˆ&quot;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/&gt;</span></span></span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<h3 id="React-Children-å¯¹è±¡"><a href="#React-Children-å¯¹è±¡" class="headerlink" title="React.Children å¯¹è±¡"></a><code>React.Children </code>å¯¹è±¡</h3><p>ä½†å…¶å®æˆ‘ä»¬å¹¶ä¸éœ€è¦è‡ªå·±å†™å¯¹å­ç»„ä»¶çš„æ ¡éªŒï¼ŒReactæœ‰è‡ªå·±çš„æ–¹æ³•ã€‚</p>
<p>å¯ä»¥åŸºäº <code>React.Children </code>å¯¹è±¡ä¸­æä¾›çš„æ–¹æ³•ï¼Œå¯¹<code>props.children</code>åšå¤„ç†ï¼šcount\forEach\map\toArrayâ€¦</p>
<blockquote>
<p>å¼€å§‹æ—¶ï¼Œæˆ‘ä»¬ä¼šimport Reactï¼ŒReactå…¶å®å°±æ˜¯ä¸€ä¸ªå°è£…å¥½çš„å¯¹è±¡ã€‚</p>
</blockquote>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ä¹Ÿå°±æ˜¯</span></span><br><span class="line">children = <span class="title class_">React</span>.<span class="property">Children</span>.<span class="title function_">toArray</span>(children);</span><br><span class="line"><span class="comment">//è¿™é‡Œç›´æ¥æ›¿æ¢ä¸‹é¢ä»£ç å°±èƒ½å®ç°ï¼Œäºæ˜¯å°±ä¸æ”¾å®Œæ•´ä»£ç äº†</span></span><br><span class="line">  <span class="keyword">if</span> (!children) &#123;</span><br><span class="line">    children = [];</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (!<span class="title class_">Array</span>.<span class="title function_">isArray</span>(children)) &#123;</span><br><span class="line">    children = [children];</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<h3 id="å…·åæ’æ§½"><a href="#å…·åæ’æ§½" class="headerlink" title="å…·åæ’æ§½"></a>å…·åæ’æ§½</h3><blockquote>
<p>å½“æˆ‘ä»¬è¦æ±‚å°†å­ç»„ä»¶æ”¾åˆ°æˆ‘ä»¬éœ€è¦çš„ä½ç½®æ—¶ï¼Œå°±å¯ä»¥ä½¿ç”¨å…·åç»„ä»¶</p>
</blockquote>
<p>äºæ˜¯ä¿®æ”¹åçš„çˆ¶ç»„ä»¶ä»£ç æ˜¯</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// src\views\DemoOne.js    å¦ä¸€ä¸ªæ–‡ä»¶æ²¡å˜</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">PropTypes</span> <span class="keyword">from</span> <span class="string">&quot;prop-types&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">React</span> <span class="keyword">from</span> <span class="string">&quot;react&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">DemoOne</span> = <span class="keyword">function</span> <span class="title function_">DemoOne</span>(<span class="params">props</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> &#123; title, x, children &#125; = props;</span><br><span class="line">  children = <span class="title class_">React</span>.<span class="property">Children</span>.<span class="title function_">toArray</span>(children);</span><br><span class="line">  <span class="keyword">let</span> headerSlot = [],</span><br><span class="line">    footerSlot = [],</span><br><span class="line">    defaultSlot = [];</span><br><span class="line">  children.<span class="title function_">forEach</span>(<span class="function">(<span class="params">child</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// ä¼ é€’è¿›æ¥çš„æ’æ§½ä¿¡æ¯ï¼Œéƒ½æ˜¯ç¼–è¯‘ä¸ºvirtualDOMåä¼ é€’è¿›æ¥çš„ã€Œè€Œä¸æ˜¯ä¼ é€’çš„æ ‡ç­¾ã€</span></span><br><span class="line">    <span class="keyword">let</span> &#123; slot &#125; = child.<span class="property">props</span>; <span class="comment">//è·å–æ’æ§½çš„åç§°</span></span><br><span class="line">    <span class="comment">//æ ¹æ®æ’æ§½çš„åç§°ï¼ŒæŠŠå½“å‰çš„æ’æ§½ä¿¡æ¯å­˜æ”¾åˆ°å¯¹åº”çš„æ•°ç»„ä¸­,slotå’Œå¯¹åº”çš„å€¼ï¼Œéƒ½å¯ä»¥è‡ªå®šä¹‰ï¼Œè¦æ–¹ä¾¿è°ƒç”¨è€…ã€‚</span></span><br><span class="line">    <span class="keyword">if</span> (slot === <span class="string">&quot;header&quot;</span>) &#123;</span><br><span class="line">      headerSlot.<span class="title function_">push</span>(child);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (slot === <span class="string">&quot;footer&quot;</span>) &#123;</span><br><span class="line">      footerSlot.<span class="title function_">push</span>(child);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      defaultSlot.<span class="title function_">push</span>(child);<span class="comment">//ä¸€èˆ¬ä¸èµ·åå­—çš„ï¼Œé»˜è®¤å¯¼å…¥</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="comment">// é€šè¿‡æ•°ç»„çš„å½¢å¼ï¼ŒæŠŠæ’æ§½ä¿¡æ¯æ¸²æŸ“åˆ°é¡µé¢ä¸­</span></span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&quot;demo-box&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      &#123;headerSlot&#125;</span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">br</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">h2</span> <span class="attr">className</span>=<span class="string">&quot;title&quot;</span>&gt;</span>&#123;title&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;x&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">br</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">      &#123;footerSlot&#125;</span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">/* è®¾ç½®å±æ€§çš„æ ¡éªŒè§„åˆ™ */</span></span><br><span class="line"><span class="title class_">DemoOne</span>.<span class="property">defaultProps</span> = &#123;</span><br><span class="line">  <span class="attr">x</span>: <span class="number">0</span>,</span><br><span class="line">&#125;;</span><br><span class="line"><span class="title class_">DemoOne</span>.<span class="property">propTypes</span> = &#123;</span><br><span class="line">  <span class="attr">title</span>: <span class="title class_">PropTypes</span>.<span class="property">string</span>.<span class="property">isRequired</span>,</span><br><span class="line">  <span class="attr">x</span>: <span class="title class_">PropTypes</span>.<span class="property">number</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">DemoOne</span>;</span><br></pre></td></tr></table></figure>

<p>å¯¹åº”çš„<code>index.jsx</code>,å®éªŒä¸€ä¸‹</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è°ƒç”¨src\index.jsx</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">React</span> <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">ReactDOM</span> <span class="keyword">from</span> <span class="string">&#x27;react-dom/client&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">DemoOne</span> <span class="keyword">from</span> <span class="string">&#x27;@/views/DemoOne&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> root = <span class="title class_">ReactDOM</span>.<span class="title function_">createRoot</span>(<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;root&#x27;</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">//å› ä¸ºæœ‰æ’æ§½æˆ‘ä»¬ä¼ å…¥chilrenç»„ä»¶æ—¶ï¼Œä¸éœ€è¦è€ƒè™‘é¡ºåºï¼Œåå­—å¯¹åº”å°±è¡Œã€‚</span></span><br><span class="line">root.<span class="title function_">render</span>(</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">DemoOne</span> <span class="attr">title</span>=<span class="string">&quot;REACTå¥½å¥½ç©å“¦&quot;</span> <span class="attr">x</span>=<span class="string">&#123;10&#125;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">span</span> <span class="attr">slot</span>=<span class="string">&quot;footer&quot;</span>&gt;</span>æˆ‘æ˜¯é¡µè„š<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">span</span>&gt;</span>å“ˆå“ˆå“ˆå“ˆ<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">span</span> <span class="attr">slot</span>=<span class="string">&quot;header&quot;</span>&gt;</span>æˆ‘æ˜¯é¡µçœ‰<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">DemoOne</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">         <span class="tag">&lt;<span class="name">DemoOne</span> <span class="attr">title</span>=<span class="string">&quot;å“‡å¡å¡å¡&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">span</span>&gt;</span>å˜¿å˜¿å˜¿<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">DemoOne</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">DemoOne</span> <span class="attr">title</span>=<span class="string">&quot;å“ˆå“ˆå“ˆå“ˆå“ˆ&quot;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/&gt;</span></span></span><br><span class="line">);</span><br></pre></td></tr></table></figure>







<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// views/FunctionComponent.jsx</span></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">FunctionComponent</span> = <span class="keyword">function</span> <span class="title function_">FunctionComponent</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        æˆ‘æ˜¯å‡½æ•°ç»„ä»¶</span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">FunctionComponent</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// index.jsx</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">React</span> <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">ReactDOM</span> <span class="keyword">from</span> <span class="string">&#x27;react-dom/client&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">FunctionComponent</span> <span class="keyword">from</span> <span class="string">&#x27;@/views/FunctionComponent&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> root = <span class="title class_">ReactDOM</span>.<span class="title function_">createRoot</span>(<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;root&#x27;</span>));</span><br><span class="line">root.<span class="title function_">render</span>(</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">FunctionComponent</span>/&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/&gt;</span></span></span><br><span class="line">);</span><br></pre></td></tr></table></figure>



<p>åœ¨JSXå…ƒç´ æ¸²æŸ“çš„æ—¶å€™ï¼Œå¦‚æœtypeæ˜¯å‡½æ•°ï¼Œåˆ™æŠŠå‡½æ•°æ‰§è¡Œï¼</p>
<ul>
<li>ä¼šæŠŠè§£æå‡ºæ¥çš„propsã€Œå«childrenã€ï¼Œä¼ é€’ç»™å‡½æ•°<ul>
<li>å•é—­åˆå’ŒåŒé—­åˆè°ƒç”¨çš„åŒºåˆ«ã€Œæ’æ§½ã€</li>
<li>React.Children</li>
<li>propsæ˜¯åªè¯»çš„ã€Œè¢«å†»ç»“ã€</li>
</ul>
</li>
<li>propsçš„è§„åˆ™è®¾ç½®<ul>
<li>è®¾ç½®é»˜è®¤å€¼</li>
<li>è®¾ç½®å±æ€§è§„åˆ™ã€ŒåŸºäºprop-typesæ’ä»¶ã€</li>
</ul>
</li>
<li>å±æ€§å’Œæ’æ§½éƒ½å¯ä»¥è®©ç»„ä»¶å…·å¤‡æ›´å¼ºçš„å¤ç”¨æ€§</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// index.jsx</span></span><br><span class="line">root.<span class="title function_">render</span>(</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">FunctionComponent</span> <span class="attr">x</span>=<span class="string">&#123;10&#125;</span> <span class="attr">title</span>=<span class="string">&quot;ä½ å¥½ä¸–ç•Œ&quot;</span> <span class="attr">arr</span>=<span class="string">&#123;[10,</span> <span class="attr">20</span>, <span class="attr">30</span>]&#125;&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&#x27;slot-box&#x27;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        æˆ‘æ˜¯æ’æ§½ä¿¡æ¯</span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">FunctionComponent</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/&gt;</span></span></span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// views/FunctionComponent.jsx</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">React</span> <span class="keyword">from</span> <span class="string">&quot;react&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">PropTypes</span> <span class="keyword">from</span> <span class="string">&#x27;prop-types&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">FunctionComponent</span> = <span class="keyword">function</span> <span class="title function_">FunctionComponent</span>(<span class="params">props</span>) &#123;</span><br><span class="line">    <span class="comment">/* è¢«å†»ç»“:ä¸èƒ½ä¿®æ”¹/æ–°å¢/åˆ é™¤/åŠ«æŒ...ã€Œå¯ä»¥èµ‹å€¼ç»™å…¶å®ƒçŠ¶æ€å†è¿›è¡Œä¿®æ”¹ã€ */</span></span><br><span class="line">    <span class="comment">// console.log(Object.isFrozen(props)); //-&gt;true</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/* å¯¹props.childrenè¿›è¡Œæ“ä½œï¼šcount/forEach/map/toArray... */</span></span><br><span class="line">    <span class="comment">// console.log(React.Children);</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        æˆ‘æ˜¯å‡½æ•°ç»„ä»¶</span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// èµ‹å€¼å±æ€§é»˜è®¤å€¼</span></span><br><span class="line"><span class="title class_">FunctionComponent</span>.<span class="property">defaultProps</span> = &#123;</span><br><span class="line">    <span class="attr">x</span>: <span class="number">0</span>,</span><br><span class="line">    <span class="attr">title</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">    <span class="attr">arr</span>: [],</span><br><span class="line">    <span class="attr">num</span>: <span class="number">0</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// è®¾ç½®å±æ€§è§„åˆ™</span></span><br><span class="line"><span class="title class_">FunctionComponent</span>.<span class="property">propTypes</span> = &#123;</span><br><span class="line">    <span class="attr">x</span>: <span class="title class_">PropTypes</span>.<span class="property">number</span>,</span><br><span class="line">    <span class="attr">title</span>: <span class="title class_">PropTypes</span>.<span class="property">string</span>.<span class="property">isRequired</span>,</span><br><span class="line">    <span class="attr">arr</span>: <span class="title class_">PropTypes</span>.<span class="property">array</span>,</span><br><span class="line">    <span class="attr">num</span>: <span class="title class_">PropTypes</span>.<span class="property">any</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">FunctionComponent</span>;</span><br></pre></td></tr></table></figure>









<hr>
<p>å®ç°å…·åæ’æ§½</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// index.jsx</span></span><br><span class="line">root.<span class="title function_">render</span>(</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">FunctionComponent</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&#x27;slot-box&#x27;</span> <span class="attr">slot</span>=<span class="string">&quot;head&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        æˆ‘æ˜¯æ’æ§½ä¿¡æ¯1</span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&#x27;slot-box&#x27;</span> <span class="attr">slot</span>=<span class="string">&quot;foot&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        æˆ‘æ˜¯æ’æ§½ä¿¡æ¯2</span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">FunctionComponent</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/&gt;</span></span></span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// views/FunctionComponent.jsx</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">React</span> <span class="keyword">from</span> <span class="string">&quot;react&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">FunctionComponent</span> = <span class="keyword">function</span> <span class="title function_">FunctionComponent</span>(<span class="params">props</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> children = <span class="title class_">React</span>.<span class="property">Children</span>.<span class="title function_">toArray</span>(props.<span class="property">children</span>),</span><br><span class="line">        headSlots = children.<span class="title function_">filter</span>(<span class="function"><span class="params">item</span> =&gt;</span> item.<span class="property">props</span>.<span class="property">slot</span> === <span class="string">&#x27;head&#x27;</span>),</span><br><span class="line">        footSlots = children.<span class="title function_">filter</span>(<span class="function"><span class="params">item</span> =&gt;</span> item.<span class="property">props</span>.<span class="property">slot</span> === <span class="string">&#x27;foot&#x27;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        &#123;headSlots&#125;</span></span><br><span class="line"><span class="language-xml">        æˆ‘æ˜¯ç»„ä»¶å†…å®¹</span></span><br><span class="line"><span class="language-xml">        &#123;footSlots&#125;</span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">FunctionComponent</span>;</span><br></pre></td></tr></table></figure>

<p>å‡½æ•°ç»„ä»¶æ˜¯<code>é™æ€ç»„ä»¶</code></p>
<ul>
<li>ä¸å…·å¤‡çŠ¶æ€ã€ç”Ÿå‘½å‘¨æœŸå‡½æ•°ã€refç­‰å†…å®¹</li>
<li>ç¬¬ä¸€æ¬¡æ¸²æŸ“å®Œæ¯•ï¼Œé™¤éçˆ¶ç»„ä»¶æ§åˆ¶å…¶é‡æ–°æ¸²æŸ“ï¼Œå¦åˆ™å†…å®¹ä¸ä¼šå†æ›´æ–°</li>
<li>ä¼˜åŠ¿ï¼šæ¸²æŸ“é€Ÿåº¦å¿«</li>
<li>å¼Šç«¯ï¼šé™æ€ç»„ä»¶ï¼Œæ— æ³•å®ç°ç»„ä»¶åŠ¨æ€æ›´æ–°</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span> <span class="keyword">from</span> <span class="string">&quot;react&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">FunctionComponent</span> = <span class="keyword">function</span> <span class="title function_">FunctionComponent</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> num = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        &#123;num&#125;</span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">br</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;()</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-xml">            num++;</span></span><br><span class="line"><span class="language-xml">            console.log(num); //å˜é‡å€¼ç´¯åŠ ï¼Œä½†æ˜¯ç»„ä»¶ä¸ä¼šé‡æ–°æ¸²æŸ“</span></span><br><span class="line"><span class="language-xml">        &#125;&#125;&gt;å¢åŠ <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">FunctionComponent</span>;</span><br></pre></td></tr></table></figure>



<h2 id="Reactç±»ç»„ä»¶"><a href="#Reactç±»ç»„ä»¶" class="headerlink" title="Reactç±»ç»„ä»¶"></a>Reactç±»ç»„ä»¶</h2><p>åˆ›å»ºä¸€ä¸ª<code>ç±»</code>ï¼Œå¹¶ç»§æ‰¿<code>React.Component/PureComponent</code>ï¼ŒåŸºäº<code>render</code>è¿”å›JSXè§†å›¾</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span> <span class="keyword">from</span> <span class="string">&quot;react&quot;</span>;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ClassComponent</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span> &#123;</span><br><span class="line">    <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            æˆ‘æ˜¯ç±»ç»„ä»¶</span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">ClassComponent</span>;</span><br></pre></td></tr></table></figure>

<p>ç±»ç»„ä»¶æ˜¯<code>åŠ¨æ€ç»„ä»¶</code></p>
<ul>
<li>å…·å¤‡å±æ€§åŠè§„åˆ™æ ¡éªŒ</li>
<li>å…·å¤‡çŠ¶æ€ï¼Œä¿®æ”¹çŠ¶æ€å¯ä»¥æ§åˆ¶è§†å›¾æ›´æ–°<ul>
<li>setState</li>
<li>forceUpdate</li>
</ul>
</li>
<li>å…·å¤‡å‘¨æœŸå‡½æ•°<ul>
<li>ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œä¸€äº›ä¸å®‰å…¨çš„å‘¨æœŸå‡½æ•°æ˜¯ç¦æ­¢ä½¿ç”¨çš„</li>
</ul>
</li>
</ul>
<p><img src="../../../../-img/%E6%8A%80%E6%9C%AF/%E5%89%8D%E7%AB%AF/%E6%A1%86%E6%9E%B6/%E7%BB%84%E4%BB%B6%E5%8C%96.png"></p>
<h4 id="PureComponent-pjÊŠÉ™-r"><a href="#PureComponent-pjÊŠÉ™-r" class="headerlink" title="PureComponent /pjÊŠÉ™(r)/"></a>PureComponent /pjÊŠÉ™(r)/</h4><p>ä¸€ä¸ªå°æµ‹è¯•ï¼šæ–°çŠ¶æ€å€¼å’ŒåŸå§‹çŠ¶æ€å€¼æ˜¯ç›¸åŒçš„å †å†…å­˜åœ°å€ã€Œæ•°æ®å‘ç”Ÿæ”¹å˜ã€ï¼Œæˆ‘ä»¬å¯ä»¥è¯•è¯•ç»§æ‰¿React.Componentå’ŒReact.PureComponentçš„åŒºåˆ«ï¼Ÿ</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">class</span> <span class="title class_">Demo</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span> &#123;</span><br><span class="line">    state = &#123;</span><br><span class="line">        <span class="attr">arr</span>: [<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>]</span><br><span class="line">    &#125;;</span><br><span class="line">    handler = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">arr</span>.<span class="title function_">push</span>(<span class="number">40</span>);</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">setState</span>(&#123; <span class="attr">arr</span>: <span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">arr</span> &#125;);</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&quot;demo&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            &#123;this.state.arr.join(&#x27;+&#x27;)&#125;</span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;this.handler&#125;</span>&gt;</span>æ›´æ”¹<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>è‡ªåŠ¨å¢åŠ shouldComponentUpdateå‘¨æœŸå‡½æ•°ï¼Œå¹¶å¯¹åŸå§‹å±æ€§/çŠ¶æ€å’Œæœ€æ–°å±æ€§/çŠ¶æ€è¿›è¡Œ<code>æµ…æ¯”è¾ƒ</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> shallowEqual = <span class="keyword">function</span> <span class="title function_">shallowEqual</span>(<span class="params">objA, objB</span>)&#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="title class_">Object</span>.<span class="title function_">is</span>(objA, objB))  <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> objA !== <span class="string">&#x27;object&#x27;</span> || objA === <span class="literal">null</span> ||</span><br><span class="line">      <span class="keyword">typeof</span> objB !== <span class="string">&#x27;object&#x27;</span> || objB === <span class="literal">null</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">const</span> keysA = <span class="title class_">Reflect</span>.<span class="title function_">ownKeys</span>(objA),</span><br><span class="line">        keysB = <span class="title class_">Reflect</span>.<span class="title function_">ownKeys</span>(objB);</span><br><span class="line">  <span class="keyword">if</span> (keysA.<span class="property">length</span> !== keysB.<span class="property">length</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; keysA.<span class="property">length</span>; i++) &#123;</span><br><span class="line">    <span class="keyword">let</span> key = keysA[i];</span><br><span class="line">    <span class="keyword">if</span> (</span><br><span class="line">      !objB.<span class="title function_">hasOwnProperty</span>(key) ||</span><br><span class="line">      !<span class="title class_">Object</span>.<span class="title function_">is</span>(objA[key], objB[key])</span><br><span class="line">    ) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æµ‹è¯•ä½¿ç”¨</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">class</span> <span class="title class_">Demo</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span> &#123;</span><br><span class="line">    ...</span><br><span class="line">    <span class="title function_">shouldComponentUpdate</span>(<span class="params">nextProps, nextState</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> !<span class="title function_">shallowEqual</span>(<span class="variable language_">this</span>.<span class="property">props</span>, nextProps) ||</span><br><span class="line">            !<span class="title function_">shallowEqual</span>(<span class="variable language_">this</span>.<span class="property">state</span>, nextState);</span><br><span class="line">    &#125;</span><br><span class="line">    ...</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h4 id="éå—æ§ç»„ä»¶"><a href="#éå—æ§ç»„ä»¶" class="headerlink" title="éå—æ§ç»„ä»¶"></a>éå—æ§ç»„ä»¶</h4><p>ä¸å—çŠ¶æ€ç®¡æ§çš„ç»„ä»¶ã€Œå¯ä»¥åŸºäºrefè·å–DOMå…ƒç´ è¿›è¡Œæ“ä½œã€</p>
<ul>
<li>ref=â€™xxxâ€™ <code>ä¸æ¨èä½¿ç”¨</code></li>
<li>ref={x=&gt;this.xxx=x}</li>
<li>React.createRef</li>
</ul>
<p>èµ‹å€¼ç»™æ ‡ç­¾ï¼Œç›®çš„æ˜¯è·å–DOMå…ƒç´ ï¼›<br>èµ‹å€¼ç»™ç±»ç»„ä»¶ï¼Œç›®çš„æ˜¯è·å–ç»„ä»¶çš„å®ä¾‹ï¼›<br>å‡½æ•°ç»„ä»¶ä¸èƒ½ç›´æ¥è®¾ç½®refï¼Œä½†æ˜¯å¯ä»¥åŸºäº<code>React.forwardRef /ËˆfÉ”ËwÉ™d/</code>å®ç°refè½¬å‘ï¼</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¢«è°ƒç”¨çš„å­ç»„ä»¶</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">React</span> <span class="keyword">from</span> <span class="string">&quot;react&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">Demo3</span> = <span class="keyword">function</span> <span class="title function_">Demo3</span>(<span class="params">props, ref</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&quot;demo3&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        <span class="attr">ref</span>=<span class="string">&#123;ref&#125;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">React</span>.<span class="title function_">forwardRef</span>(<span class="title class_">Demo3</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// çˆ¶ç»„ä»¶</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">class</span> <span class="title class_">Demo</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span> &#123;</span><br><span class="line">    <span class="title function_">componentDidMount</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">box</span>); <span class="comment">//-&gt; div.demo3</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&quot;demo&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">Demo3</span> <span class="attr">ref</span>=<span class="string">&#123;x</span> =&gt;</span> this.box = x&#125; /&gt;</span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h4 id="å…³äºsetStateçš„è¿›é˜¶ç ”ç©¶"><a href="#å…³äºsetStateçš„è¿›é˜¶ç ”ç©¶" class="headerlink" title="å…³äºsetStateçš„è¿›é˜¶ç ”ç©¶"></a>å…³äºsetStateçš„è¿›é˜¶ç ”ç©¶</h4><p>React18ä¸­ï¼Œå¯¹äºsetStateçš„æ“ä½œï¼Œé‡‡ç”¨äº† <code>æ‰¹å¤„ç†</code>ï¼</p>
<ul>
<li>æ„å»ºäº†é˜Ÿåˆ—æœºåˆ¶</li>
<li>ç»Ÿä¸€æ›´æ–°ï¼Œæé«˜è§†å›¾æ›´æ–°çš„æ€§èƒ½</li>
<li>å¤„ç†æµç¨‹æ›´åŠ ç¨³å¥</li>
</ul>
<p>åœ¨React 18ä¹‹å‰ï¼Œæˆ‘ä»¬åªåœ¨ <code>Reactåˆæˆäº‹ä»¶/å‘¨æœŸå‡½æ•°</code>æœŸé—´æ‰¹é‡æ›´æ–°ï¼›é»˜è®¤æƒ…å†µä¸‹ï¼ŒReactä¸­ä¸ä¼šå¯¹ promiseã€setTimeoutã€åŸç”Ÿäº‹ä»¶å¤„ç†ï¼ˆnative event handlersï¼‰æˆ–å…¶å®ƒReacté»˜è®¤ä¸è¿›è¡Œæ‰¹å¤„ç†çš„äº‹ä»¶è¿›è¡Œæ‰¹å¤„ç†æ“ä½œï¼</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span> <span class="keyword">from</span> <span class="string">&quot;react&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">class</span> <span class="title class_">Demo</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span> &#123;</span><br><span class="line">    state = &#123;</span><br><span class="line">        <span class="attr">x</span>: <span class="number">10</span>,</span><br><span class="line">        <span class="attr">y</span>: <span class="number">5</span>,</span><br><span class="line">        <span class="attr">z</span>: <span class="number">0</span></span><br><span class="line">    &#125;;</span><br><span class="line">    handler = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> &#123; x, y, z &#125; = <span class="variable language_">this</span>.<span class="property">state</span>;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">setState</span>(&#123; <span class="attr">x</span>: x + <span class="number">1</span> &#125;);</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">setState</span>(&#123; <span class="attr">y</span>: y + <span class="number">1</span> &#125;);</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">state</span>);</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="title function_">setState</span>(&#123; <span class="attr">z</span>: z + <span class="number">1</span> &#125;);</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">state</span>);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;render&#x27;</span>);</span><br><span class="line">        <span class="keyword">let</span> &#123; x, y, z &#125; = <span class="variable language_">this</span>.<span class="property">state</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&quot;demo&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            &#123;x&#125;-&#123;y&#125;-&#123;z&#125;</span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">br</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;this.handler&#125;</span>&gt;</span>å¤„ç†<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>setStateæ¥æ”¶çš„å‚æ•°è¿˜å¯ä»¥æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œåœ¨è¿™ä¸ªå‡½æ•°ä¸­å¯ä»¥æ‹¿å…ˆå‰çš„çŠ¶æ€ï¼Œå¹¶é€šè¿‡è¿™ä¸ªå‡½æ•°çš„è¿”å›å€¼å¾—åˆ°ä¸‹ä¸€ä¸ªçŠ¶æ€</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">class</span> <span class="title class_">Demo</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span> &#123;</span><br><span class="line">    state = &#123;</span><br><span class="line">        <span class="attr">num</span>: <span class="number">0</span></span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="title function_">componentDidMount</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">100</span>; i++) &#123;</span><br><span class="line">            <span class="comment">/* this.setState(&#123; num: this.state.num + 1 &#125;);</span></span><br><span class="line"><span class="comment">            console.log(this.state.num); */</span></span><br><span class="line">            <span class="variable language_">this</span>.<span class="title function_">setState</span>(<span class="function"><span class="params">prevState</span> =&gt;</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> &#123;</span><br><span class="line">                    <span class="attr">num</span>: prevState.<span class="property">num</span> + <span class="number">1</span></span><br><span class="line">                &#125;;</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;render&#x27;</span>);</span><br><span class="line">        <span class="keyword">let</span> &#123; num &#125; = <span class="variable language_">this</span>.<span class="property">state</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&quot;demo&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            &#123;num&#125;</span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>åŸºäº<code>flushSync</code>å¯ä»¥æ¸…ç©ºé˜Ÿåˆ—</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span> <span class="keyword">from</span> <span class="string">&quot;react&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; flushSync &#125; <span class="keyword">from</span> <span class="string">&#x27;react-dom&#x27;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">class</span> <span class="title class_">Demo</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span> &#123;</span><br><span class="line">    state = &#123;</span><br><span class="line">        <span class="attr">x</span>: <span class="number">10</span>,</span><br><span class="line">        <span class="attr">y</span>: <span class="number">5</span>,</span><br><span class="line">        <span class="attr">z</span>: <span class="number">0</span></span><br><span class="line">    &#125;;</span><br><span class="line">    handler = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> &#123; x, y, z &#125; = <span class="variable language_">this</span>.<span class="property">state</span>;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">setState</span>(&#123; <span class="attr">x</span>: x + <span class="number">1</span> &#125;);</span><br><span class="line">        <span class="title function_">flushSync</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="title function_">setState</span>(&#123; <span class="attr">y</span>: y + <span class="number">1</span> &#125;);</span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">state</span>); <span class="comment">// x:11 y:6 z:0 -&gt; render</span></span><br><span class="line"></span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">setState</span>(&#123; <span class="attr">z</span>: z + <span class="number">1</span> &#125;);</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">state</span>);</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;render&#x27;</span>);</span><br><span class="line">        <span class="keyword">let</span> &#123; x, y, z &#125; = <span class="variable language_">this</span>.<span class="property">state</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&quot;demo&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            &#123;x&#125;-&#123;y&#125;-&#123;z&#125;</span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">br</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;this.handler&#125;</span>&gt;</span>å¤„ç†<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/%E6%8A%80%E8%83%BD/" rel="tag"># æŠ€èƒ½</a>
              <a href="/tags/%E6%8A%80%E6%9C%AF/" rel="tag"># æŠ€æœ¯</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2023/12/04/%E4%BA%92%E8%81%94%E7%BD%91/%E5%89%8D%E7%AB%AF/react%E7%B2%BE%E5%AD%A6/04-JSX%E5%BA%95%E5%B1%82%E5%AE%9E%E6%93%8D/" rel="prev" title="04.JSXåº•å±‚å®æ“">
                  <i class="fa fa-angle-left"></i> 04.JSXåº•å±‚å®æ“
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2023/12/04/%E4%BA%92%E8%81%94%E7%BD%91/%E5%89%8D%E7%AB%AF/react%E7%B2%BE%E5%AD%A6/fiber/" rel="next" title="fiber">
                  fiber <i class="fa fa-angle-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2023</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">zono</span>
  </div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT.Gemini</a>
  </div>

    </div>
  </footer>

  
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script>

  






  





</body>
</html>
